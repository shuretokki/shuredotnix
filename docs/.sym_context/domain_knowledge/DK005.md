---
tags: [display, theming, waybar, stylix]
---

# DK-005: Display Theming System

**Related Code:** `library/display/`, `library/display/themes/`
**Last Updated:** 2026-01-05

## Overview
The display theming system uses Stylix for consistent styling, with theme presets in `library/display/themes/`.

## Theme Structure

```
library/display/themes/
├── default.nix           # Theme OPTIONS with defaults
├── default/              # Default theme assets
│   ├── schemes/          # Base16 color schemes (sh-dark.yaml)
│   ├── waybar/           # Static Waybar config + style
│   └── wallpapers/       # Wallpaper assets
└── sh/                   # "sh" theme preset
    └── default.nix       # Overrides (Raycast style)
```

## Key Options

| Option | Type | Description |
|--------|------|-------------|
| `theme.scheme` | path | Base16 YAML file |
| `theme.polarity` | enum | "dark" or "light" |
| `theme.waybar.configFile` | path | Waybar config.jsonc |
| `theme.waybar.styleFile` | path | Waybar style.css |
| `theme.hyprland.*` | various | Gaps, rounding, blur, etc. |

## Waybar Integration

Waybar uses file-based configuration:
- `~/.config/waybar/config.jsonc` (from `theme.waybar.configFile`)
- `~/.config/waybar/style.css` (from `theme.waybar.styleFile`)
- `~/.config/waybar/colors.css` (auto-generated from Stylix)

CSS files can use `@base00` through `@base0F` variables via `@import "colors.css";`.

## Selecting a Theme

Set `vars.theme` in `vars.nix`:
```nix
theme = "sh"; # Uses themes/sh/default.nix
```

## Recent Fixes (2026-01-05)
- Removed `"mainBar"` wrapper from Waybar config (caused empty bar)
- Fixed CSS unit warnings in `box-shadow` property
- Added dynamic `colors.css` generation for theming
