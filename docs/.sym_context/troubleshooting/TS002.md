---
tags: [troubleshooting, github-actions, ci]
---

# TS-002: GitHub Actions CI Failures

## Problem 1: Hostname Not Found

**Error:**
```
error: flake does not provide attribute 'nixosConfigurations.shuredotnix'
```

**Cause:** The hostname in `ci.yml` doesn't match any directory in `hosts/`.

**Solution:** Check `hosts/` directory and use the correct name:
```yaml
# Wrong
nix build .#nixosConfigurations.shuredotnix...

# Correct (if hosts/desktop/ exists)
nix build .#desktop
```

---

## Problem 2: No Space Left on Device

**Error:**
```
error: writing to file: No space left on device
```

**Cause:** GitHub free runners have ~14GB disk. Full NixOS builds exceed this.

**Solutions:**
1. Use Cachix to cache builds (best)
2. Remove `nix build`, keep only `nix flake check`
3. Build locally first to populate cache

---

## Problem 3: Cachix Auth Token Missing

**Error:**
```
Neither auth token nor signing key are present.
```

**Cause:** Cachix needs authentication to push builds.

**Solutions:**
1. Set token in shell: `export CACHIX_AUTH_TOKEN="your-token"`
2. Or authenticate once: `cachix authtoken your-token`
3. For CI: Add `CACHIX_AUTH_TOKEN` secret in GitHub repo settings
