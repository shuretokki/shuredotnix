---
tags: [corrections, ai, nix, patterns]
---

# COR-001: Outdated Nix Patterns

**Last Updated:** 2026-01-05

This document tracks Nix patterns where AI training data (2024) conflicts with current (2026) best practices.

---

## Pattern Corrections

### 1. Git Settings

**AI might suggest (outdated):**
```nix
programs.git = {
  userName = "Name";
  userEmail = "email";
  extraConfig = { ... };
};
```

**Correct (2026):**
```nix
programs.git.settings = {
  user.name = "Name";
  user.email = "email";
  # All config goes directly in settings
};
```

---

### 2. Home Manager Imports

**AI might suggest (outdated):**
```nix
home-manager.users.${username} = { ... };
```

**Correct (2026):**
Check current home-manager docs. Structure varies by version.

---

### 3. Hyprland Config

**AI might suggest (outdated):**
```nix
wayland.windowManager.hyprland.extraConfig = "";
```

**Correct (2026):**
```nix
wayland.windowManager.hyprland.settings = {
  # Structured attrset, not string
};
```

---

## How to Add Corrections

When AI suggests code that fails:
1. Note the **outdated pattern**
2. Find the **correct pattern** (from build error or docs)
3. Add to this file
4. AI will read this in future sessions

---

## Discovery Workflow

When unsure about current syntax:
1. Ask AI to `search_web` for current docs
2. Provide raw GitHub README URL
3. AI reads current docs and implements correctly
