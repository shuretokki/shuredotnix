---
title: Project Structure
description: Comprehensive overview of the dotnix codebase.
navigation:
  icon: i-lucide-folder-tree
---

# Project Structure

This document provides a comprehensive view of the **dotnix** codebase structure, verified against the stable branch.

## Directory Tree

The repository is organized into a modular hierarchy:

```bash
dotnix/
├── flake.nix             # Entry point (inputs, outputs, repo/alias constants)
├── identity.nix          # User customization (username, locale, theme)
├── shells.nix            # Development shell definitions
├── hosts/                # Machine configurations
│   └── desktop/          # Main workstation
│       ├── default.nix
│       └── hardware-configuration.nix
│
├── library/              # Modular logic (The 4 Layers)
│   ├── core/             # Layer 1: System Foundations
│   │   ├── gpu/          # Drivers (amd, nvidia, intel)
│   │   ├── security/     # Hardening, dns, sops
│   │   └── ...           # boot, audio, network, virtualization
│   │
│   ├── display/          # Layer 2: Desktop Environment
│   │   ├── hyprland/     # Window manager config & scripts
│   │   ├── themes/       # Wallpapers, colors (stylix)
│   │   ├── waybar/       # Status bar
│   │   └── ...           # hyprlock, swaync, sddm
│   │
│   ├── home/             # Layer 3: User Space
│   │   ├── bundlers/     # Grouped applications
│   │   │   ├── cli/      # git, starship, zoxide, shell
│   │   │   └── desktop/  # browser, discord, editors, media
│   │   ├── global/       # Universal user settings
│   │   └── programs/     # Standalone program configs (gpg)
│   │
│   └── profiles/         # Layer 4: Archetypes
│       ├── desktop/      # GUI-enabled profile
│       └── server/       # Headless profile
│
├── users/                # User definitions
│   └── shure/            # Default user
│       ├── home.nix      # Home Manager entry point
│       └── nixos.nix     # NixOS user account settings
│
├── pkgs/                 # Custom packages
├── overlays/             # Nixpkgs modifications
└── secrets/              # Encrypted secrets (sops-nix)
```

## The 4-Layer Library

The `library/` directory is the heart of dotnix, divided into four logical layers:

### 1. Core (`library/core/`)
**System-level configurations** that require root privileges.
- **boot.nix**: Bootloader (Limine/GRUB) and kernel params.
- **security/dns.nix**: Encrypted DNS (Quad9/Cloudflare).
- **virtualisation.nix**: Docker, Podman, libvirt support.

### 2. Display (`library/display/`)
**The visual desktop stack.**
- **hyprland/**: The compositor logic, split into `base`, `keybinds`, `rules`, etc.
- **themes/**: Theming engine powered by Stylix.
    - `default/`: Base theme assets (wallpapers, schemes).
    - `sh/`: Custom specific theme overrides.

### 3. Home (`library/home/`)
**User-space applications** managed via **Bundlers**.
- **bundlers/desktop/**: GUI apps like `browser`, `discord`, `vicinae`.
- **bundlers/cli/**: Terminal tools like `bat`, `fzf`, `git`.
- **global/**: Settings applied to all users on the system.

### 4. Profiles (`library/profiles/`)
**High-level composition.** Profiles import modules from Core and Display to create a functional system type (e.g., `desktop` vs `server`).
